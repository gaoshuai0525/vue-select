{"version":3,"file":"vue-select.min.js","sources":["../src/components/scrollbar.vue","../src/components/select.vue"],"sourcesContent":["<template>\n    <div class=\"scrollbar\">\n        <div class=\"wrap\" ref=\"wrap\" @scroll=\"handleScroll\" @mousedown=\"clickTrackHandler($event)\">\n            <slot></slot>\n        </div>\n        <div class=\"scrollbar_bar\" ref=\"bar\" @mousedown=\"clickTrackHandler($event)\">\n            <div :style=renderStyle() @mousedown=\"clickThumbHandler($event)\" class=\"scrollbar__thumb\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n\n        data () {\n            return {\n                sizeHeight:'0',\n                move: '0',\n                axis: null\n            }\n        },\n        computed: {\n            wrap() {\n                return this.$refs.wrap;\n            }\n        },\n        created () {\n        },\n        mounted () {\n            this.update();\n            this.wrap.addEventListener('DOMNodeInserted', this.update, false)\n            this.wrap.addEventListener('DOMNodeRemoved', this.update, false)\n        },\n        watch: {\n        },\n        methods: {\n            clickThumbHandler(e) {\n                this.axis = e.y - e.currentTarget.getBoundingClientRect().top;\n                this.startDrag(e)\n            },\n            clickTrackHandler(e) {\n                this.axis = e.currentTarget.firstChild.getBoundingClientRect().height/2;\n                this.mouseMoveDocumentHandler(e)\n            },\n            startDrag(e) {\n                var vm = this;\n                e.stopPropagation();\n                e.preventDefault();\n                e.cancelBubble=true;\n                document.addEventListener('mousemove', vm.mouseMoveDocumentHandler, false);\n                document.addEventListener('mouseup', function () {\n                    document.removeEventListener('mousemove', vm.mouseMoveDocumentHandler, false)\n                }, false);\n            },\n            mouseMoveDocumentHandler(e){\n                if(!this.$refs.bar.contains(e.currentTarget)) return\n                var wrap = this.wrap;\n                var barOffset = this.$refs.bar.getBoundingClientRect();\n                this.move = (e.y - barOffset.top - this.axis) * barOffset.height / 100;\n                wrap.scrollTop = this.move * wrap.clientHeight / 100;\n                this.move = Math.min(this.move,(wrap.scrollHeight - wrap.clientHeight)*100/ wrap.clientHeight);\n                this.move = Math.max(0,this.move);\n            },\n            handleScroll() {\n                var wrap = this.wrap;\n                this.move = ((wrap.scrollTop * 100) / wrap.clientHeight);\n            },\n            update() {\n                this.$nextTick(()=>{\n                    let heightPercentage;\n                    var wrap = this.wrap;\n                    heightPercentage = (wrap.clientHeight * 100 / wrap.scrollHeight);\n                    this.sizeHeight = (heightPercentage < 100) ? (heightPercentage + '%') : '';\n                })\n            },\n            renderStyle() {\n                return {height: this.sizeHeight,transform: 'translateY('+this.move+'%)'}\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .scrollbar{\n        overflow: hidden\n    }\n    .wrap{\n        max-height: 300px;\n        overflow: scroll;\n        height:100%;\n        margin-right: -20px;\n        margin-bottom: -20px;\n    }\n    .scrollbar_bar{\n        position: absolute;\n        width: 6px;\n        top: 2px;\n        right: 2px;\n        bottom: 2px;\n        z-index: 1;\n        border-radius: 4px;\n        opacity: 0;\n        transition: opacity .12s ease-out;\n    }\n    .scrollbar:hover .scrollbar_bar{\n        opacity: 1;\n        transition: opacity 340ms ease-out;\n    }\n    .scrollbar__thumb{\n        transition: background-color .3s;\n        background-color: hsla(220,4%,58%,.3);\n    }\n</style>\n","<template>\n    <div class=\"select-input\":style=\"{width: typeof width === 'number'? width+'px': width}\">\n        <input\n                class=\"input-inner\"\n                type=\"text\"\n                ref=\"input\"\n                @click=\"showList\"\n                :value=\"selectVal\"\n                :placeholder=\"placeholder\"\n                readonly\n\n        >\n        <i class=\"icon\" @click=\"showList\"></i>\n        <!--<scrollbar class='dropdown' v-if=\"isShow\">-->\n            <ul>\n                <li class=\"dropdown-item\"\n                    :class=\"[selectOption == option ? 'lightheight' : '',i+1 != options.length ? 'drapdown-item-line':''] \"\n                    v-for=\"(option,i) in options\"\n                    :key=\"typeof option === 'object' ? option[selectKey] : option\"\n                    @click=\"handleSelectOption(option)\"\n                >{{typeof option === 'object' ? option[selectName] : option}}</li>\n            </ul>\n        <!--</scrollbar>-->\n\n\n    </div>\n</template>\n\n<script>\n    import scrollbar from './scrollbar.vue';\n    export default {\n        name:'VSelect',\n        props: {\n            value: [String,Number],\n            options: Array,\n            placeholder: String,\n            selectKey: String,\n            selectName: String,\n            width: {type:[String,Number],default:'200px'}\n        },\n        data () {\n            return {\n                isShow: false,\n                selectOption: null\n            }\n        },\n        components: {scrollbar},\n        computed: {\n            selectVal () {\n                if (!this.selectOption) {\n                    return null\n                }\n                return typeof this.selectOption ==='object' ? this.selectOption[this.selectName] :this.selectOption\n            }\n        },\n        created () {\n            this.getSelectOption(this.value)\n        },\n        watch: {\n            value: function () {\n                this.getSelectOption(this.value)\n            },\n            options: function () {\n                this.getSelectOption(this.value)\n            }\n        },\n        methods: {\n            handleSelectOption: function (option){\n                this.selectOption = option\n                this.isShow ? this.isShow = false : this.isShow = true\n                this.$emit('input', typeof this.selectOption ==='object' ? this.selectOption[this.selectKey] :this.selectOption)\n                this.$emit('change')\n            },\n            showList: function(){\n                this.isShow ? this.isShow = false : this.isShow = true\n                document.addEventListener('click', this.clickOutside, false)\n            },\n            clickOutside: function(event){\n                if(this.$el && !this.$el. contains(event.target)) {\n                    this.isShow = false\n                }\n            },\n            getSelectOption: function (value) {\n                if(!value){\n                    this.selectOption =null;\n                    return\n                }\n                for(var i = 0; i < this.options.length; i++){\n                    if(value === this.options[i][this.selectKey]){\n                        this.selectOption = this.options[i];\n                        break;\n                    }\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    ul,ul li{\n        list-style: none;\n        margin: 0;\n        padding: 0;\n    }\n    .select-input{\n        position: relative;\n        height: 2.8rem;\n    }\n    .input-inner{\n        color: #606266;\n        display: inline-block;\n        width: 100%;\n        height: 100%;\n        box-sizing: border-box;\n        border: 0.1rem solid #b8e8ff;\n        border-radius: 2rem;\n        padding: 0 1.5rem;\n        font-weight: bold;\n        outline: none;\n        font-size: 12px;\n    }\n    .icon{\n        width: 1.5rem;\n        height: 100%;\n        line-height: 3rem;\n        position: absolute;\n        right: 8px;\n        top:0;\n        background: url(./select-icon.png) center no-repeat;\n    }\n    .dropdown{\n        width: 100%;\n        position: absolute;\n        top: 2.8rem;\n        background: #fff;\n        z-index: 100;\n        border: 1px solid #fff;\n        border-radius:  5px;\n        box-shadow:2px 3px 5px rgba(167, 142, 142, 0.1);\n    }\n\n    .dropdown-item{\n\n        height: 40px;\n        line-height: 40px;\n        padding: 0 20px;\n        overflow: hidden;\n        white-space: normal;\n        text-overflow: ellipsis;\n    }\n    .dropdown-item.drapdown-item-line:after{\n        content: '';\n        display: block;\n        width: 100%;\n        height: 0;\n        background: #fff;\n        /*border-bottom: 1px solid #e5e5e5;*/\n    }\n    .dropdown-item.lightheight{\n        color:#109eff;\n    }\n    .dropdown-item:hover{\n        background: #f5f7fa;\n    }\n</style>\n"],"names":["render","data","sizeHeight","move","axis","computed","wrap","this","$refs","created","mounted","update","addEventListener","watch","methods","clickThumbHandler","e","y","currentTarget","getBoundingClientRect","top","startDrag","clickTrackHandler","firstChild","height","mouseMoveDocumentHandler","vm","stopPropagation","preventDefault","cancelBubble","document","removeEventListener","bar","contains","barOffset","scrollTop","clientHeight","Math","min","scrollHeight","max","handleScroll","$nextTick","let","heightPercentage","renderStyle","transform","name","props","value","String","Number","options","Array","placeholder","selectKey","selectName","width","type","default","isShow","selectOption","components","scrollbar","selectVal","getSelectOption","handleSelectOption","option","$emit","showList","clickOutside","event","$el","target","i","length"],"mappings":"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"}